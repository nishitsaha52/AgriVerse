{"ast":null,"code":"import React,{useState,useEffect}from'react';import axios from'axios';import styles from'../AppStyles.module.css';// ‚úÖ Using shared styles\nimport{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function WeatherComponent(){const[city,setCity]=useState('');const[weather,setWeather]=useState(null);const[alert,setAlert]=useState('');const[loading,setLoading]=useState(false);const fetchWeather=async()=>{if(!city)return;setLoading(true);setAlert('');try{const response=await axios.get(`http://localhost:5003/api/weather?city=${city}`);setWeather(response.data);checkWeatherAlert(response.data);}catch(error){console.error('Error fetching weather:',error);}setLoading(false);};const checkWeatherAlert=data=>{if(!data||!data.weather||data.weather.length===0)return;const condition=data.weather[0].main.toLowerCase();const temp=data.main.temp;const humidity=data.main.humidity;const windSpeed=data.wind.speed;const alerts=[];if(condition.includes('rain')){alerts.push('‚ö†Ô∏è Rain expected! Prepare for harvesting.');}if(condition.includes('snow')||temp<3){alerts.push('‚ùÑÔ∏è Frost alert! Protect your crops.');}if(temp>35){alerts.push('‚òÄÔ∏è Heatwave warning! Irrigate sufficiently.');}if(condition.includes('haze')||condition.includes('mist')||condition.includes('fog')){alerts.push('üå´Ô∏è Low visibility due to haze/fog! Take caution.');}if(humidity>85){alerts.push('‚ö†Ô∏è High humidity! Risk of fungal diseases on crops.');}if(windSpeed>10){alerts.push('üí® Strong winds expected! Secure your farm equipment.');}setAlert(alerts.join(' '));};useEffect(()=>{const interval=setInterval(()=>{if(city){fetchWeather();}},10*60*1000);// every 10 minutes\nreturn()=>clearInterval(interval);},[city]);return/*#__PURE__*/_jsxs(\"div\",{className:styles.container,children:[/*#__PURE__*/_jsx(\"h2\",{className:styles.title,children:\"\\uD83C\\uDF26 Weather\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Enter City\",value:city,onChange:e=>setCity(e.target.value),className:styles.input}),/*#__PURE__*/_jsx(\"button\",{onClick:fetchWeather,className:styles.button,children:loading?'Loading...':'Get Weather'}),alert&&/*#__PURE__*/_jsx(\"div\",{className:styles.alert,children:alert}),weather&&/*#__PURE__*/_jsxs(\"div\",{className:styles.card,children:[/*#__PURE__*/_jsxs(\"h3\",{children:[weather.name,\", \",weather.sys.country]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Temperature:\"}),\" \",weather.main.temp,\" \\xB0C\"]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Condition:\"}),\" \",weather.weather[0].main,\" (\",weather.weather[0].description,\")\"]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Humidity:\"}),\" \",weather.main.humidity,\"%\"]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Wind Speed:\"}),\" \",weather.wind.speed,\" m/s\"]})]})]});}export default WeatherComponent;","map":{"version":3,"names":["React","useState","useEffect","axios","styles","jsx","_jsx","jsxs","_jsxs","WeatherComponent","city","setCity","weather","setWeather","alert","setAlert","loading","setLoading","fetchWeather","response","get","data","checkWeatherAlert","error","console","length","condition","main","toLowerCase","temp","humidity","windSpeed","wind","speed","alerts","includes","push","join","interval","setInterval","clearInterval","className","container","children","title","type","placeholder","value","onChange","e","target","input","onClick","button","card","name","sys","country","description"],"sources":["C:/Users/nishi/Desktop/Agriculture/client/src/components/Weather.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport styles from '../AppStyles.module.css'; // ‚úÖ Using shared styles\n\nfunction WeatherComponent() {\n  const [city, setCity] = useState('');\n  const [weather, setWeather] = useState(null);\n  const [alert, setAlert] = useState('');\n  const [loading, setLoading] = useState(false);\n\n  const fetchWeather = async () => {\n    if (!city) return;\n\n    setLoading(true);\n    setAlert('');\n    try {\n      const response = await axios.get(`http://localhost:5003/api/weather?city=${city}`);\n      setWeather(response.data);\n      checkWeatherAlert(response.data);\n    } catch (error) {\n      console.error('Error fetching weather:', error);\n    }\n    setLoading(false);\n  };\n\n  const checkWeatherAlert = (data) => {\n    if (!data || !data.weather || data.weather.length === 0) return;\n\n    const condition = data.weather[0].main.toLowerCase();\n    const temp = data.main.temp;\n    const humidity = data.main.humidity;\n    const windSpeed = data.wind.speed;\n    const alerts = [];\n\n    if (condition.includes('rain')) {\n      alerts.push('‚ö†Ô∏è Rain expected! Prepare for harvesting.');\n    }\n    if (condition.includes('snow') || temp < 3) {\n      alerts.push('‚ùÑÔ∏è Frost alert! Protect your crops.');\n    }\n    if (temp > 35) {\n      alerts.push('‚òÄÔ∏è Heatwave warning! Irrigate sufficiently.');\n    }\n    if (condition.includes('haze') || condition.includes('mist') || condition.includes('fog')) {\n      alerts.push('üå´Ô∏è Low visibility due to haze/fog! Take caution.');\n    }\n    if (humidity > 85) {\n      alerts.push('‚ö†Ô∏è High humidity! Risk of fungal diseases on crops.');\n    }\n    if (windSpeed > 10) {\n      alerts.push('üí® Strong winds expected! Secure your farm equipment.');\n    }\n\n    setAlert(alerts.join(' '));\n  };\n\n  useEffect(() => {\n    const interval = setInterval(() => {\n      if (city) {\n        fetchWeather();\n      }\n    }, 10 * 60 * 1000); // every 10 minutes\n\n    return () => clearInterval(interval);\n  }, [city]);\n\n  return (\n    <div className={styles.container}>\n      <h2 className={styles.title}>üå¶ Weather</h2>\n      \n      <input\n        type=\"text\"\n        placeholder=\"Enter City\"\n        value={city}\n        onChange={(e) => setCity(e.target.value)}\n        className={styles.input}\n      />\n\n      <button onClick={fetchWeather} className={styles.button}>\n        {loading ? 'Loading...' : 'Get Weather'}\n      </button>\n\n      {alert && <div className={styles.alert}>{alert}</div>}\n\n      {weather && (\n        <div className={styles.card}>\n          <h3>{weather.name}, {weather.sys.country}</h3>\n          <p><strong>Temperature:</strong> {weather.main.temp} ¬∞C</p>\n          <p><strong>Condition:</strong> {weather.weather[0].main} ({weather.weather[0].description})</p>\n          <p><strong>Humidity:</strong> {weather.main.humidity}%</p>\n          <p><strong>Wind Speed:</strong> {weather.wind.speed} m/s</p>\n        </div>\n      )}\n    </div>\n  );\n}\n\nexport default WeatherComponent;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}