{"ast":null,"code":"import React,{useState}from'react';import axios from'axios';import styles from'../AppStyles.module.css';// âœ… Import shared CSS module\nimport{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function PlantDiseaseUpload(){const[file,setFile]=useState(null);const[prediction,setPrediction]=useState(\"\");const[confidence,setConfidence]=useState(null);const[loading,setLoading]=useState(false);const handleUpload=async()=>{if(!file)return;const formData=new FormData();formData.append('file',file);setLoading(true);setPrediction(\"\");setConfidence(null);try{const res=await axios.post('http://localhost:5000/predict',formData,{headers:{'Content-Type':'multipart/form-data'}});console.log(\"Backend response:\",res.data);setPrediction(res.data.predicted_class);setConfidence(res.data.confidence);}catch(err){console.error(\"Prediction error:\",err);setPrediction(\"Error predicting disease\");}setLoading(false);};return/*#__PURE__*/_jsxs(\"div\",{className:styles.card,children:[/*#__PURE__*/_jsx(\"h2\",{className:styles.titleGreen,children:\"Plant Diesease Detection\"}),/*#__PURE__*/_jsx(\"input\",{type:\"file\",onChange:e=>setFile(e.target.files[0]),className:styles.fileInput}),/*#__PURE__*/_jsx(\"button\",{onClick:handleUpload,className:styles.buttonGreen,children:\"Upload & Predict\"}),loading&&/*#__PURE__*/_jsx(\"p\",{className:styles.loading,children:\"\\uD83D\\uDD04 Analyzing image...\"}),!loading&&prediction&&/*#__PURE__*/_jsxs(\"div\",{className:styles.result,children:[/*#__PURE__*/_jsx(\"h3\",{className:styles.resultHeader,children:\"\\uD83E\\uDDEA Prediction Result\"}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Disease:\"}),\" \",prediction]}),confidence!==null&&/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Confidence:\"}),\" \",confidence.toFixed(2),\"%\"]})]})]});}export default PlantDiseaseUpload;","map":{"version":3,"names":["React","useState","axios","styles","jsx","_jsx","jsxs","_jsxs","PlantDiseaseUpload","file","setFile","prediction","setPrediction","confidence","setConfidence","loading","setLoading","handleUpload","formData","FormData","append","res","post","headers","console","log","data","predicted_class","err","error","className","card","children","titleGreen","type","onChange","e","target","files","fileInput","onClick","buttonGreen","result","resultHeader","toFixed"],"sources":["C:/Users/nishi/Desktop/Agriculture/client/src/components/PlantDiseaseUpload.js"],"sourcesContent":["import React, { useState } from 'react';\nimport axios from 'axios';\nimport styles from '../AppStyles.module.css'; // âœ… Import shared CSS module\n\nfunction PlantDiseaseUpload() {\n  const [file, setFile] = useState(null);\n  const [prediction, setPrediction] = useState(\"\");\n  const [confidence, setConfidence] = useState(null);\n  const [loading, setLoading] = useState(false);\n\n  const handleUpload = async () => {\n    if (!file) return;\n\n    const formData = new FormData();\n    formData.append('file', file);\n\n    setLoading(true);\n    setPrediction(\"\");\n    setConfidence(null);\n\n    try {\n      const res = await axios.post('http://localhost:5000/predict', formData, {\n        headers: { 'Content-Type': 'multipart/form-data' },\n      });\n      console.log(\"Backend response:\", res.data);\n\n      setPrediction(res.data.predicted_class);\n      setConfidence(res.data.confidence);\n    } catch (err) {\n      console.error(\"Prediction error:\", err);\n      setPrediction(\"Error predicting disease\");\n    }\n    setLoading(false);\n  };\n\n  return (\n    <div className={styles.card}>\n      <h2 className={styles.titleGreen}>Plant Diesease Detection</h2>\n\n      <input\n        type=\"file\"\n        onChange={(e) => setFile(e.target.files[0])}\n        className={styles.fileInput}\n      />\n\n      <button onClick={handleUpload} className={styles.buttonGreen}>\n        Upload & Predict\n      </button>\n\n      {loading && <p className={styles.loading}>ðŸ”„ Analyzing image...</p>}\n\n      {!loading && prediction && (\n        <div className={styles.result}>\n          <h3 className={styles.resultHeader}>ðŸ§ª Prediction Result</h3>\n          <p><strong>Disease:</strong> {prediction}</p>\n          {confidence !== null && (\n            <p><strong>Confidence:</strong> {confidence.toFixed(2)}%</p>\n          )}\n        </div>\n      )}\n    </div>\n  );\n}\n\nexport default PlantDiseaseUpload;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}