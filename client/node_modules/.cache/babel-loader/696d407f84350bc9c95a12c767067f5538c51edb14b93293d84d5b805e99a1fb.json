{"ast":null,"code":"// frontend/src/components/SoilFertilityPredict.js\nimport React,{useState}from'react';import axios from'axios';import styles from'../AppStyles.module.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function SoilFertilityPredict(){const[features,setFeatures]=useState(Array(12).fill(''));const[prediction,setPrediction]=useState('');const[confidence,setConfidence]=useState(null);const[loading,setLoading]=useState(false);const handleChange=(index,value)=>{const newFeatures=[...features];newFeatures[index]=value;setFeatures(newFeatures);};const handlePredict=async()=>{setLoading(true);setPrediction('');setConfidence(null);try{const res=await axios.post('http://localhost:5001/soil-predict',{features:features.map(f=>parseFloat(f))});console.log(res.data);setPrediction(res.data.predicted_fertility);setConfidence(res.data.confidence);}catch(error){console.error(error);setPrediction('Error predicting fertility.');}setLoading(false);};const labels=['N','P','K','pH','EC','OC','S','Zn','Fe','Cu','Mn','B'];return/*#__PURE__*/_jsxs(\"div\",{className:styles.card,children:[/*#__PURE__*/_jsx(\"h2\",{className:styles.titleGreen,children:\"Soil Fertility Prediction\"}),labels.map((label,idx)=>/*#__PURE__*/_jsxs(\"div\",{className:\"inputGroup\",children:[/*#__PURE__*/_jsxs(\"label\",{children:[label,\":\"]}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",value:features[idx],onChange:e=>handleChange(idx,e.target.value),className:styles.input})]},idx)),/*#__PURE__*/_jsx(\"button\",{onClick:handlePredict,className:styles.buttonGreen,children:\"Predict Fertility\"}),loading&&/*#__PURE__*/_jsx(\"p\",{className:styles.loading,children:\"\\uD83D\\uDD04 Predicting...\"}),!loading&&prediction&&/*#__PURE__*/_jsxs(\"div\",{className:styles.result,children:[/*#__PURE__*/_jsx(\"h3\",{className:styles.resultHeader,children:\"\\uD83E\\uDDEA Result\"}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Fertility:\"}),\" \",prediction]}),confidence!==null&&/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Confidence:\"}),\" \",confidence.toFixed(2),\"%\"]})]})]});}export default SoilFertilityPredict;","map":{"version":3,"names":["React","useState","axios","styles","jsx","_jsx","jsxs","_jsxs","SoilFertilityPredict","features","setFeatures","Array","fill","prediction","setPrediction","confidence","setConfidence","loading","setLoading","handleChange","index","value","newFeatures","handlePredict","res","post","map","f","parseFloat","console","log","data","predicted_fertility","error","labels","className","card","children","titleGreen","label","idx","type","onChange","e","target","input","onClick","buttonGreen","result","resultHeader","toFixed"],"sources":["C:/Users/nishi/Desktop/Agriculture/client/src/components/SoilFertilityPredict.js"],"sourcesContent":["// frontend/src/components/SoilFertilityPredict.js\nimport React, { useState } from 'react';\nimport axios from 'axios';\nimport styles from '../AppStyles.module.css';\n\nfunction SoilFertilityPredict() {\n  const [features, setFeatures] = useState(Array(12).fill(''));\n  const [prediction, setPrediction] = useState('');\n  const [confidence, setConfidence] = useState(null);\n  const [loading, setLoading] = useState(false);\n\n  const handleChange = (index, value) => {\n    const newFeatures = [...features];\n    newFeatures[index] = value;\n    setFeatures(newFeatures);\n  };\n\n  const handlePredict = async () => {\n    setLoading(true);\n    setPrediction('');\n    setConfidence(null);\n\n    try {\n      const res = await axios.post('http://localhost:5001/soil-predict', {\n        features: features.map(f => parseFloat(f)),\n      });\n\n      console.log(res.data);\n      setPrediction(res.data.predicted_fertility);\n      setConfidence(res.data.confidence);\n    } catch (error) {\n      console.error(error);\n      setPrediction('Error predicting fertility.');\n    }\n\n    setLoading(false);\n  };\n\n  const labels = ['N', 'P', 'K', 'pH', 'EC', 'OC', 'S', 'Zn', 'Fe', 'Cu', 'Mn', 'B'];\n\n  return (\n    <div className={styles.card}>\n      <h2 className={styles.titleGreen}>Soil Fertility Prediction</h2>\n\n      {labels.map((label, idx) => (\n        <div key={idx} className=\"inputGroup\">\n          <label>{label}:</label>\n          <input\n            type=\"number\"\n            value={features[idx]}\n            onChange={(e) => handleChange(idx, e.target.value)}\n            className={styles.input}\n          />\n        </div>\n      ))}\n\n      <button onClick={handlePredict} className={styles.buttonGreen}>\n        Predict Fertility\n      </button>\n\n      {loading && <p className={styles.loading}>ðŸ”„ Predicting...</p>}\n\n      {!loading && prediction && (\n        <div className={styles.result}>\n          <h3 className={styles.resultHeader}>ðŸ§ª Result</h3>\n          <p><strong>Fertility:</strong> {prediction}</p>\n          {confidence !== null && (\n            <p><strong>Confidence:</strong> {confidence.toFixed(2)}%</p>\n          )}\n        </div>\n      )}\n    </div>\n  );\n}\n\nexport default SoilFertilityPredict;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}